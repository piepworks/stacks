<dialog x-show="openStatusModal === book.id" x-htmldialog="openStatusModal = null" x-transition>
  <article @click.outside="openStatusModal = null">
    <header>
      <button aria-label="Close" rel="prev" @click="openStatusModal = null"></button>
      <p>
        <b>Adjust status for <i x-text="book.title"></i></b>
      </p>
    </header>
    <form method="post" :action="book.update_url">
      {% csrf_token %}
      <input type="hidden" name="status_change" value="true">
      <fieldset>
        <div class="grid">
          {% for status in statuses %}
            <label>
              <input type="radio"
                     name="status"
                     value="{{ status.0 }}"
                     :checked="book.status === '{{ status.0 }}'">
              {{ status.1 }}
            </label>
          {% endfor %}
        </div>
        <div x-show="false" x-html="book.form"></div>
      </fieldset>
      <button type="submit">Save</button>
    </form>

    <form :action="book.archive_url" method="post" @submit="confirm('Are you sure?')">
      {% csrf_token %}
      <button class="secondary">Archive</button>
    </form>
  </article>
</dialog>
