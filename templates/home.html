{% extends "base.html" %}
{% load static %}

{% block title %}
  Stacks
{% endblock title %}

{% block content %}
  <header>
    <h1>Stacks</h1>
  </header>

  {% if request.user.is_authenticated %}
    <div class="grid">
      {% for book in books %}
        <div>
          {% for cover in book.book.covers.all %}
            <div>
              <img width="100"
                   height="auto"
                   src="{{ cover.image.url }}"
                   alt="{{ cover }}">
            </div>
          {% endfor %}
          {{ book }}
        </div>
      {% endfor %}
    </div>

    <hr>

    <p>Youâ€™re logged in as {{ request.user }}!</p>
    <form method="post" action="{% url 'logout' %}">
      {% csrf_token %}
      <button>Log out</button>
    </form>
  {% else %}
    <p>
      <a href="{% url 'login' %}">Log in</a>
    </p>
  {% endif %}
{% endblock content %}
