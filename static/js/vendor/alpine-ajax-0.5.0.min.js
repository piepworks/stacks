(()=>{var k=new WeakMap;function I(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null,r=t?t.closest("input, button"):null;return r?.type=="submit"?r:null}function P(e){let t=I(e.target);t&&t.form&&k.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let e=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",P,!0),Object.defineProperty(e,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return k.get(this.target)}})})();(function(e){if(typeof e.requestSubmit=="function")return;e.requestSubmit=function(n){n?(t(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function t(n,o){n instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||r(TypeError,"The specified element is not a submit button"),n.form==o||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(n,o,u){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+o+".",u)}})(HTMLFormElement.prototype);var h={};async function D({method:e,action:t,body:r,referrer:n,headers:o},u){let i,a=J(u),m=s=>s,l=s=>s;if(e==="GET"){if(i=B(t),X(t))return i;m=s=>M(t,c=>c.resolve(s)),l=s=>M(t,c=>c.reject(s))}n=n||window.location.href;let p=fetch(t,{headers:o,referrer:n,method:e,body:r}).then(a).then(G).then(m).catch(l);return e==="GET"?i:p}function G(e){return e.text().then(t=>(e.html=t,e))}function B(e){h[e]||(h[e]=[]);let t={},r=new Promise((n,o)=>{t.resolve=n,t.reject=o});return h[e].push(t),r}function X(e){return h[e].length>1}function M(e,t){(h[e]||[]).forEach(t),h[e]=void 0}function J(e){return e?t=>t:t=>{if(t.redirected){window.location.href=t.url;return}return t}}var f={followRedirects:!0,headers:{},mergeStrategy:"replace"},R=new WeakMap,v=new WeakMap,_=(e,t)=>{console.error(`You can't use the "morph" merge without first installing the Alpine "morph" plugin here: https://alpinejs.dev/plugins/morph`)};function b(e){e.morph&&(_=e.morph),window.addEventListener("popstate",t=>{!t.state||!t.state.__AJAX__||window.location.reload(!0)}),e.directive("target",(t,{modifiers:r,expression:n},{evaluate:o,cleanup:u})=>{let i={targets:q(t,n),events:!0,...K(r)};R.set(t,i),i.headers=Object.assign(f.headers,o(e.bound(t,"x-headers","{}"))),$(t)?u(V(t,i)):U(t)&&u(Y(t,i))}),e.addInitSelector(()=>`[${e.prefixed("merge")}]`),e.directive("merge",(t,{modifiers:r,expression:n})=>{v.set(t,{strategy:n,transition:W(r)})}),e.magic("ajax",t=>(r,n={})=>{let o=n.method?n.method.toUpperCase():"GET",u=n.enctype||"application/x-www-form-urlencoded",i=null;n.body&&(i=N(n.body),o==="GET"?(r=O(i,r),i=null):u!=="multipart/form-data"&&(i=x(i)));let a=n.headers;a||(a=t.hasAttribute("x-headers")?e.evaluate(t,e.bound(t,"x-headers","{}")):{}),a=Object.assign(f.headers,a);let m={action:r,method:o,body:i,headers:a,referrer:L(t)},l=R.get(t)||{followRedirects:f.followRedirects,history:!1,focus:!1};l=Object.assign(l,n);let p=q(t,l.targets||l.target),s=j(p);return s=l.sync?A(s):s,T(m,s,t,l)})}b.configure=e=>(f=Object.assign(f,e),b);var H=b;function q(e,t=null){let r=[e.id];if(t&&(r=Array.isArray(t)?t:t.split(" ")),r=r.filter(n=>n),r.length===0)throw new y(e);return r}function K(e=[]){let t=f.followRedirects?!e.includes("nofollow"):e.includes("follow"),r=!1;return e.includes("push")&&(r="push"),e.includes("replace")&&(r="replace"),{followRedirects:t,history:r,focus:!e.includes("nofocus")}}function W(e=[]){return f.transitions||e.includes("transition")}function $(e){return e.href&&!e.hash&&e.origin==location.origin}function U(e){return e.tagName==="FORM"}function N(e){if(e instanceof HTMLFormElement)return new FormData(e);if(e instanceof FormData)return e;let t=new FormData;for(let r in e)typeof e[r]=="object"?t.append(r,JSON.stringify(e[r])):t.append(r,e[r]);return t}function V(e,t){let r=async n=>{if(n.which>1||n.altKey||n.ctrlKey||n.metaKey||n.shiftKey)return;n.preventDefault(),n.stopPropagation();let o=z(e);o.headers=t.headers||{};let u=A(j(t.targets));try{return await T(o,u,e,t)}catch(i){if(i instanceof w){console.warn(i.message),window.location.href=e.href;return}throw i}};return e.addEventListener("click",r),()=>e.removeEventListener("click",r)}function z(e){return{method:"GET",action:e.href,referrer:L(e),body:null}}function Y(e,t){let r=async n=>{if(n.submitter&&n.submitter.hasAttribute("formnoajax"))return;n.preventDefault(),n.stopPropagation();let o=Q(e,n.submitter);o.headers=t.headers||{};let u=A(j(t.targets));try{return await Z(n.submitter,()=>T(o,u,e,t))}catch(i){if(i instanceof w){console.warn(i.message),e.removeEventListener("submit",r),e.requestSubmit(n.submitter);return}throw i}};return e.addEventListener("submit",r),()=>e.removeEventListener("submit",r)}function Q(e,t=null){let r=(e.getAttribute("method")||"GET").toUpperCase(),n=e.getAttribute("enctype")||"application/x-www-form-urlencoded",o=L(e),u=e.getAttribute("action")||o||window.location.href,i=N(e);return t&&(r=t.getAttribute("formmethod")||r,n=t.getAttribute("formenctype")||n,u=t.getAttribute("formaction")||u,t.name&&i.append(t.name,t.value)),r==="GET"?(u=O(i,u),i=null):n!=="multipart/form-data"&&(i=x(i)),{method:r,action:u,body:i,referrer:o}}async function Z(e,t){if(!e)return await t();let r=o=>o.preventDefault();e.setAttribute("aria-disabled","true"),e.addEventListener("click",r);let n=await t();return e.removeAttribute("aria-disabled"),e.removeEventListener("click",r),n}function O(e,t){let r=x(e);if(Array.from(r).length){let n=t.split("#"),o=n[1];t+=n[0].includes("?")?"&":"?",t+=r,o&&(t+="#"+o)}return t}function x(e){let t=Array.from(e.entries()).filter(([r,n])=>!(n instanceof File));return new URLSearchParams(t)}async function T(e,t,r,n){let o=()=>!0;if(n.events&&(o=(s,c,g)=>s.dispatchEvent(new CustomEvent(c,{detail:g,bubbles:!0,composed:!0,cancelable:!0}))),!o(r,"ajax:before"))return;let u=[];t.forEach(s=>{s.setAttribute("aria-busy","true"),u.push(s.id)}),e.headers["X-Alpine-Request"]="true",e.headers["X-Alpine-Target"]=u.join("  ");let i=await D(e,n.followRedirects);if(i.ok?o(r,"ajax:success",i):o(r,"ajax:error",i),o(r,"ajax:after",i),!i.html)return;n.history&&re(n.history,i.url);let m=document.createRange().createContextualFragment("<template>"+i.html+"</template>").firstElementChild.content,l=!n.focus,p=t.map(async s=>{let c=m.getElementById(s.id),g=v.get(s)?.strategy||f.mergeStrategy;if(!c){if(!o(r,"ajax:missing",{response:i,fragment:m}))return;if(i.ok)return s.remove();throw new w(r)}let S=async()=>{let d=await ee(g,s,c);return d&&(d.dataset.source=i.url,d.removeAttribute("aria-busy"),l||["[x-autofocus]","[autofocus]"].forEach(F=>{if(l)return;let C=d.matches(F)?d:d.querySelector(F);C&&(te(C),l=!0)})),o(d,"ajax:merged"),d};if(o(s,"ajax:merge",{strategy:g,content:c,merge:S}))return S()});return await Promise.all(p)}async function ee(e,t,r){let n={before(i,a){return i.before(...a.childNodes),i},replace(i,a){return i.replaceWith(a),a},update(i,a){return i.replaceChildren(...a.childNodes),i},prepend(i,a){return i.prepend(...a.childNodes),i},append(i,a){return i.append(...a.childNodes),i},after(i,a){return i.after(...a.childNodes),i},morph(i,a){return _(i,a),document.getElementById(a.id)}};if(!v.get(t)?.transition||!document.startViewTransition)return n[e](t,r);let o=null;return await document.startViewTransition(()=>(o=n[e](t,r),Promise.resolve())).updateCallbackDone,o}function te(e){e&&setTimeout(()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.focus()},0)}function re(e,t){return{push:()=>window.history.pushState({__AJAX__:!0},"",t),replace:()=>window.history.replaceState({__AJAX__:!0},"",t)}[e]()}function j(e=[]){return e.map(t=>{let r=document.getElementById(t);if(!r)throw new E(t);return r})}function A(e){return document.querySelectorAll("[x-sync]").forEach(t=>{if(!t.id)throw new y(t);e.some(r=>r.id===t.id)||e.push(t)}),e}function L(e){return e.closest("[data-source]")?.dataset.source}var y=class extends Error{constructor(t){let r=(t.outerHTML.match(/<[^>]+>/)??[])[0]??"[Element]";super(`${r} is missing an ID to target.`),this.name="Missing ID"}},E=class extends Error{constructor(t){super(`#${t} was not found in the current document.`),this.name="Missing Target"}},w=class extends Error{constructor(t){let r=(t.outerHTML.match(/<[^>]+>/)??[])[0]??"[Element]";super(`${r} received a failed response.`),this.name="Failed Response"}};document.addEventListener("alpine:initializing",()=>{H(window.Alpine)});})();
